<!DOCTYPE html>
<html>

	<head>
		<title>计算器</title>
		<meta charset="utf-8" />
		<style type="text/css">
			.panel {
				border: 4px solid #ddd;
				width: 192px;
				margin: 100px auto;
				/*border-radius: 6px;*/
			}
			
			.panel p,
			.panel input {
				font-family: "微软雅黑";
				font-size: 20px;
				margin: 4px;
				float: left;
				/*border-radius: 4px;*/
			}
			
			.panel p {
				width: 122px;
				height: 26px;
				border: 1px solid #ddd;
				padding: 6px;
				overflow: hidden;
			}
			
			.panel input {
				width: 40px;
				height: 40px;
				border: 1px solid #ddd;
			}
		</style>
	</head>

	<body>
		<div class="panel">
			<div>
				<p id="screen"></p>
				<input type="button" value="C" id="btn_clean">
				<div style="clear:both"></div>
			</div>
			<div>
				<input type="button" value="7">
				<input type="button" value="8">
				<input type="button" value="9">
				<input type="button" value="/">

				<input type="button" value="4">
				<input type="button" value="5">
				<input type="button" value="6">
				<input type="button" value="*">

				<input type="button" value="1">
				<input type="button" value="2">
				<input type="button" value="3">
				<input type="button" value="-">

				<input type="button" value="0">
				<input type="button" value=".">
				<input type="button" value="=" id="btn_answer">
				<input type="button" value="+">

				<div style="clear:both"></div>
			</div>
		</div>
		<script src="../jQuery/jquery-3.4.1.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var nums = ''
			var numsReady = new Array()
			//赋一个空值用于接收显示在界面上的数字 一个空数组用于拼接为一个完整的式子
			$('input').not('#btn_answer','#btn_clean').click(function() {
				//按下按键
					numsReady.push($(this).val())
					//把按键的值添加到数组中
					nums = numsReady.join('')
					//把数组拼接成一个字符串且没有分割
					$('#screen').html(nums)
					//把拼接的字符串显示在界面上
			})
			$('#btn_answer').click(function() {
				try{
					numsReady.splice(0)
					nums =   eval(nums)
					numsReady.push(nums)
					$('#screen').html(nums)
				}catch{
					alert("请输入正确的算式")
				}
			})
			//清屏
			$('#btn_clean').click(function() {
				$("#screen").empty()
				nums = 0
				numsReady.splice(0)
			})
		</script>
	</body>
</html>
				
			
